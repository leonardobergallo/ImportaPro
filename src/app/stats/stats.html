<div class="stats-container">
  <h2 class="stats-title">ğŸ“Š EstadÃ­sticas en Tiempo Real</h2>
  
  <!-- ğŸ“ˆ Tarjetas principales -->
  <div class="stats-grid">
    <!-- Total de productos -->
    <div class="stat-card">
      <div class="stat-icon">ğŸ“¦</div>
      <div class="stat-content">
        <h3 class="stat-value">{{ totalProducts() }}</h3>
        <p class="stat-label">Total Productos</p>
      </div>
    </div>

    <!-- Productos rentables -->
    <div class="stat-card profitable">
      <div class="stat-icon">âœ…</div>
      <div class="stat-content">
        <h3 class="stat-value">{{ profitableProducts() }}</h3>
        <p class="stat-label">Rentables</p>
      </div>
    </div>

    <!-- Productos no rentables -->
    <div class="stat-card unprofitable">
      <div class="stat-icon">âŒ</div>
      <div class="stat-content">
        <h3 class="stat-value">{{ unprofitableProducts() }}</h3>
        <p class="stat-label">No Rentables</p>
      </div>
    </div>

    <!-- Porcentaje de rentabilidad -->
    <div class="stat-card" [ngClass]="getProfitabilityClass(profitabilityPercentage())">
      <div class="stat-icon">ğŸ“ˆ</div>
      <div class="stat-content">
        <h3 class="stat-value">{{ formatPercentage(profitabilityPercentage()) }}</h3>
        <p class="stat-label">Rentabilidad</p>
      </div>
    </div>
  </div>

  <!-- ğŸ’° InformaciÃ³n financiera -->
  <div class="financial-section">
    <h3 class="section-title">ğŸ’° InformaciÃ³n Financiera</h3>
    
    <div class="financial-grid">
      <!-- Ganancia total -->
      <div class="financial-card">
        <h4 class="financial-label">Ganancia Total</h4>
        <p class="financial-value" [ngClass]="{'positive': totalProfit() > 0, 'negative': totalProfit() < 0}">
          {{ formatCurrency(totalProfit()) }}
        </p>
      </div>

      <!-- Costo total -->
      <div class="financial-card">
        <h4 class="financial-label">Costo Total</h4>
        <p class="financial-value">{{ formatCurrency(totalCost()) }}</p>
      </div>
    </div>
  </div>

  <!-- ğŸ† Productos destacados -->
  <div class="highlights-section">
    <h3 class="section-title">ğŸ† Productos Destacados</h3>
    
    <div class="highlights-grid">
      <!-- Producto mÃ¡s rentable -->
      <div class="highlight-card best" *ngIf="mostProfitableProduct()">
        <h4 class="highlight-title">ğŸ¥‡ MÃ¡s Rentable</h4>
        <p class="product-name">{{ mostProfitableProduct()?.name }}</p>
        <p class="profit-amount positive">
          {{ formatCurrency(mostProfitableProduct()?.profitARS || 0) }}
        </p>
      </div>

      <!-- Producto menos rentable -->
      <div class="highlight-card worst" *ngIf="leastProfitableProduct()">
        <h4 class="highlight-title">ğŸ¥‰ Menos Rentable</h4>
        <p class="product-name">{{ leastProfitableProduct()?.name }}</p>
        <p class="profit-amount negative">
          {{ formatCurrency(leastProfitableProduct()?.profitARS || 0) }}
        </p>
      </div>
    </div>
  </div>

  <!-- ğŸ“Š GrÃ¡fico de distribuciÃ³n -->
  <div class="distribution-section" *ngIf="totalProducts() > 0">
    <h3 class="section-title">ğŸ“Š DistribuciÃ³n</h3>
    
    <div class="distribution-bar">
      <div class="bar-segment profitable" 
           [style.width.%]="(profitableProducts() / totalProducts()) * 100">
        <span class="segment-label">{{ profitableProducts() }} Rentables</span>
      </div>
      <div class="bar-segment unprofitable" 
           [style.width.%]="(unprofitableProducts() / totalProducts()) * 100">
        <span class="segment-label">{{ unprofitableProducts() }} No Rentables</span>
      </div>
    </div>
  </div>
</div> 