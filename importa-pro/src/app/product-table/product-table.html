<div class="product-table-container">
  <h2>üìä Tabla de Productos - ImportaPro</h2>

  <table class="product-table">
    <thead>
      <tr>
        <th>Producto</th>
        <th>Precio AliExpress (USD)</th>
        <th>Env√≠o (USD)</th>
        <th>Vendedor</th>
        <th>Costo Total USD</th>
        <th>Costo ARS</th>
        <th>Precio Venta ARS</th>
        <th>Comisi√≥n ML</th>
        <th>Comisi√≥n MP</th>
        <th>Precio Final ARS</th>
        <th>Ganancia ARS</th>
        <th>Cumple Ganancia</th>
        <th>Categor√≠a</th>
      </tr>
    </thead>
    <tbody>
      <!-- üîÑ *ngFor - Es como map() en React -->
      <tr *ngFor="let product of products"
          [class.profitable]="product.meetsMinProfit"
          [class.unprofitable]="!product.meetsMinProfit">
        <td>{{ product.name }}</td>
        <td>${{ product.aliExpressPrice ?? 0 }}</td>
        <td>${{ product.shipping ?? 0 }}</td>
        <td>{{ product.seller }}</td>
        <td>${{ product.totalCostUSD ?? 0 }}</td>
        <td>${{ (product.totalCostARS ?? 0) | number:'1.0-0' }}</td>
        <td>${{ (product.salePriceARS ?? 0) | number:'1.0-0' }}</td>
        <td>${{ (product.mlCommission ?? 0) | number:'1.0-0' }}</td>
        <td>${{ (product.mpCommission ?? 0) | number:'1.0-0' }}</td>
        <td>${{ (product.finalPriceARS ?? 0) | number:'1.0-0' }}</td>
        <td [class.positive]="(product.profitARS ?? 0) > 0"
            [class.negative]="(product.profitARS ?? 0) < 0">
          ${{ (product.profitARS ?? 0) | number:'1.0-0' }}
        </td>
        <td>
          <span [class]="product.meetsMinProfit ? 'badge-success' : 'badge-danger'">
            {{ product.meetsMinProfit ? '‚úÖ S√ç' : '‚ùå NO' }}
          </span>
        </td>
        <td>{{ product.category }}</td>
      </tr>
    </tbody>
  </table>

  <div class="summary">
    <p>üìà Total de productos: {{ getTotalProducts() }}</p>
    <p>‚úÖ Productos rentables: {{ getProfitableProducts() }}</p>
    <p>‚ùå Productos no rentables: {{ getUnprofitableProducts() }}</p>
  </div>
</div>
